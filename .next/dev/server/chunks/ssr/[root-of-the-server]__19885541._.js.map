{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/lib/auth.ts"],"sourcesContent":["import { cookies } from \"next/headers\"\nimport { SignJWT, jwtVerify } from \"jose\"\n\nconst secretKey = new TextEncoder().encode(process.env.JWT_SECRET || \"whispering-petals-secret-key-2024\")\n\nexport interface User {\n  id: number\n  email: string\n  role: string\n}\n\n// Demo admin credentials (in production, this would be in a database)\nexport const DEMO_ADMIN = {\n  id: 1,\n  email: \"admin@whisperingpetals.com\",\n  password: \"admin123\",\n  role: \"admin\",\n}\n\nexport async function createToken(user: User): Promise<string> {\n  const token = await new SignJWT({ userId: user.id, email: user.email, role: user.role })\n    .setProtectedHeader({ alg: \"HS256\" })\n    .setExpirationTime(\"24h\")\n    .sign(secretKey)\n  return token\n}\n\nexport async function verifyToken(token: string): Promise<User | null> {\n  try {\n    const { payload } = await jwtVerify(token, secretKey)\n    return {\n      id: payload.userId as number,\n      email: payload.email as string,\n      role: payload.role as string,\n    }\n  } catch {\n    return null\n  }\n}\n\nexport async function getUser(): Promise<User | null> {\n  const cookieStore = await cookies()\n  const token = cookieStore.get(\"auth-token\")?.value\n  if (!token) return null\n  return verifyToken(token)\n}\n\nexport async function setAuthCookie(token: string) {\n  const cookieStore = await cookies()\n  cookieStore.set(\"auth-token\", token, {\n    httpOnly: true,\n    secure: process.env.NODE_ENV === \"production\",\n    sameSite: \"lax\",\n    maxAge: 60 * 60 * 24, // 24 hours\n    path: \"/\",\n  })\n}\n\nexport async function removeAuthCookie() {\n  const cookieStore = await cookies()\n  cookieStore.delete(\"auth-token\")\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAAA;;;AAEA,MAAM,YAAY,IAAI,cAAc,MAAM,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI;AAS9D,MAAM,aAAa;IACxB,IAAI;IACJ,OAAO;IACP,UAAU;IACV,MAAM;AACR;AAEO,eAAe,YAAY,IAAU;IAC1C,MAAM,QAAQ,MAAM,IAAI,gKAAO,CAAC;QAAE,QAAQ,KAAK,EAAE;QAAE,OAAO,KAAK,KAAK;QAAE,MAAM,KAAK,IAAI;IAAC,GACnF,kBAAkB,CAAC;QAAE,KAAK;IAAQ,GAClC,iBAAiB,CAAC,OAClB,IAAI,CAAC;IACR,OAAO;AACT;AAEO,eAAe,YAAY,KAAa;IAC7C,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAA,oKAAS,EAAC,OAAO;QAC3C,OAAO;YACL,IAAI,QAAQ,MAAM;YAClB,OAAO,QAAQ,KAAK;YACpB,MAAM,QAAQ,IAAI;QACpB;IACF,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,QAAQ,YAAY,GAAG,CAAC,eAAe;IAC7C,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,YAAY;AACrB;AAEO,eAAe,cAAc,KAAa;IAC/C,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,YAAY,GAAG,CAAC,cAAc,OAAO;QACnC,UAAU;QACV,QAAQ,oDAAyB;QACjC,UAAU;QACV,QAAQ,KAAK,KAAK;QAClB,MAAM;IACR;AACF;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,YAAY,MAAM,CAAC;AACrB"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/components/admin/admin-sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin/admin-sidebar.tsx <module evaluation>\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,oEACA","ignoreList":[0]}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/components/admin/admin-sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin/admin-sidebar.tsx\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,gDACA","ignoreList":[0]}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/components/admin/admin-header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminHeader() from the server but AdminHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin/admin-header.tsx <module evaluation>\",\n    \"AdminHeader\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,mEACA","ignoreList":[0]}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/components/admin/admin-header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminHeader() from the server but AdminHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin/admin-header.tsx\",\n    \"AdminHeader\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,+CACA","ignoreList":[0]}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/components/admin/admin-layout.tsx"],"sourcesContent":["import type React from \"react\"\nimport { AdminSidebar } from \"./admin-sidebar\"\nimport { AdminHeader } from \"./admin-header\"\n\ninterface AdminLayoutProps {\n  children: React.ReactNode\n}\n\nexport function AdminLayout({ children }: AdminLayoutProps) {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <AdminSidebar />\n      <div className=\"ml-64 min-h-screen flex flex-col\">\n        <AdminHeader />\n        <main className=\"flex-1\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAMO,SAAS,YAAY,EAAE,QAAQ,EAAoB;IACxD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,wJAAY;;;;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sJAAW;;;;;kCACZ,8OAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;;;;;;;AAIlC"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/app/admin/settings/settings-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsClient() from the server but SettingsClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/admin/settings/settings-client.tsx <module evaluation>\",\n    \"SettingsClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,wEACA","ignoreList":[0]}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/app/admin/settings/settings-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsClient() from the server but SettingsClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/admin/settings/settings-client.tsx\",\n    \"SettingsClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,oDACA","ignoreList":[0]}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20folder/app/admin/settings/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\"\nimport { getUser } from \"@/lib/auth\"\nimport { AdminLayout } from \"@/components/admin/admin-layout\"\nimport { SettingsClient } from \"./settings-client\"\n\nexport default async function AdminSettingsPage() {\n  const user = await getUser()\n\n  if (!user || user.role !== \"admin\") {\n    redirect(\"/admin/login\")\n  }\n\n  return (\n    <AdminLayout userEmail={user.email}>\n      <SettingsClient />\n    </AdminLayout>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAEe,eAAe;IAC5B,MAAM,OAAO,MAAM,IAAA,sHAAO;IAE1B,IAAI,CAAC,QAAQ,KAAK,IAAI,KAAK,SAAS;QAClC,IAAA,iMAAQ,EAAC;IACX;IAEA,qBACE,8OAAC,sJAAW;QAAC,WAAW,KAAK,KAAK;kBAChC,cAAA,8OAAC,iKAAc;;;;;;;;;;AAGrB"}}]
}